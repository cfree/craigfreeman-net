!function(e){var t={challengeElement:null,context:null,initialOffset:null,menuDiff:40,init:function(){t.challengeElement=document.querySelector(".breakpoint-context"),t.challengeContext(),e(window).resize(t.debounce(function(){t.challengeContext()},250)),t.initialOffset=e(".site").offset(),e(window).on("scroll",t.debounce(function(){t.resizeHeader()},10))},challengeContext:function(){var e=window.getComputedStyle(t.challengeElement),n=parseInt(e.getPropertyValue("z-index"),10),i={1:"mobile",2:"tablet"};t.context=i[n]||"desktop"},resizeHeader:function(){if("mobile"!==t.context){var n=e(".site-header"),i=e(window).scrollTop();i>t.initialOffset.top+t.menuDiff?n.addClass("is-fixed"):n.removeClass("is-fixed")}},debounce:function(e,t){var n=null;return function(){var i=this,o=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(i,o)},t)}}};e(document).ready(function(){t.init()}).on("click",".js-message",function(){var t=e(this),n=t.attr("data-addr");t.attr("href","mailto:"+n)}).on("click",".js-scroll-up",function(){e.animate({scrollTop:e(this).offset().top},1e3)}).on("click",".js-menu-toggle",function(){e(this).add(".site-navigation").toggleClass("active")})}(jQuery);